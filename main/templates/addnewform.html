{% extends 'base.html' %}
{% load static %}

{% block content %}
<main id="main" class="main">

  <div class="pagetitle">
    <h1>Add Project Phases</h1>
    <nav>
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="/dashboard">Home</a></li>
       
      </ol>
    </nav>
  </div>
  <section class="section">
    <div class="row">
  

      <div class="col-lg-6">

        <div class="card">
          <div class="card-body">
            
            
            <form class="row g-3" method="post" id="add_new-form" novalidate>
              {% csrf_token %}
              <div class="col-12">
                <label for="project_id" class="form-label">Select Project</label>
                <select class="form-control" name="project_id" id="project_id">
                  <option value="">-- Select a Project --</option>
                  {% for project in projects %}
                  <option value="{{ project.project_id }}">{{ project.project_name }}</option>
                  {% endfor %}
                  
                </select>
              </div>
              <div class="col-12">
                <label for="phase_number" class="form-label">Phase no:</label>
                <input type="number" name="phase_number"class="form-control" id="phase_number">
              </div>
              <div class="col-12">
                <label for="phase_name" class="form-label">Project Phase</label>
                <input type="text" name="phase_name" class="form-control" id="phase_name">
              </div>
              
                </select>
              </div> 
              
              <div class="text-center">
                <button type="submit" class="btn btn-primary  w-100" onclick="showSpinner()" onclick="validateDate()">Submit</button>

                <div class="d-flex justify-content-center align-items-center">
                
                  <div id="spinner" class="spinner-border text-primary d-none ms-3" role="status">
                   
                      <span class="visually-hidden">Loading...</span>
                  </div>
              </div>
                <button type="reset" class="btn btn-primary w-100" type="submit" style="margin-top: 20px;background-color: grey;border-color: grey;" onclick="hideSpinner()">Reset</button>
                
              </div>
              
        
            <script>
                function showSpinner() {
                    document.getElementById("spinner").classList.remove("d-none");
                }
                function hideSpinner() {
                    document.getElementById("spinner").classList.add("d-none");
                }
            </script>
              </div>

                
              </div>
            </form>

          </div>
        </div>

      

     

      </div>
    </div>
  </section>

</main>
<script src="{% static 'js/add_new_form.js' %}"></script>
{% endblock %}